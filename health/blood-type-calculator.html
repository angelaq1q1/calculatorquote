<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blood Type Calculator ‚Äì Find Your Possible Blood Group Fast</title>
    <meta name="description" content="Quickly estimate your possible blood type based on your parents' blood groups. Use our Blood Type Calculator to see inheritance combinations and understand how blood types are passed down.">
    <meta name="keywords" content="blood type calculator, blood type predictor, baby blood type, ABO blood group, Rh factor calculator">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://www.calculatorquote.com/health/blood-type-calculator.html">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebPage",
      "name": "Blood Type Calculator ‚Äì Find Your Possible Blood Group Fast",
      "url": "https://www.calculatorquote.com/health/blood-type-calculator.html",
      "description": "Quickly estimate your possible blood type based on your parents' blood groups. Use our Blood Type Calculator to see inheritance combinations and understand how blood types are passed down.",
      "keywords": ["blood type calculator", "blood type predictor", "baby blood type", "ABO blood group", "Rh factor", "blood type test"],
      "mainEntity": [
        {
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "What blood type will my baby have?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Your baby's blood type depends on the blood types of both parents. Each parent contributes one allele, and the combination determines the child's blood type. Use our calculator to see all possible blood types and their probabilities."
              }
            },
            {
              "@type": "Question",
              "name": "Can a child have a different blood type than both parents?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Yes, a child can have a different blood type than both parents. For example, if one parent is AB+ and the other is O+, their children can only have A or B blood types, not AB or O."
              }
            },
            {
              "@type": "Question",
              "name": "What are the rarest blood types?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The rarest blood types are AB negative (1%), B negative (2%), and AB positive (2%). O positive is the most common (35%), followed by A positive (30%)."
              }
            },
            {
              "@type": "Question",
              "name": "What is a blood type test?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "A blood type test is a medical procedure that determines your ABO blood group (A, B, AB, or O) and Rh factor (positive or negative). This test is essential for blood transfusions, organ transplants, and pregnancy care to ensure compatibility and prevent complications."
              }
            },
            {
              "@type": "Question",
              "name": "What's the rarest blood type?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "The rarest blood type is AB negative (AB-), which is found in only about 1% of the population. Other rare blood types include B negative (2%) and AB positive (2%)."
              }
            },
            {
              "@type": "Question",
              "name": "What is the universal recipient blood type?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "AB positive (AB+) is the universal recipient blood type. People with AB+ blood can receive blood from any blood type (A, B, AB, or O, and both Rh+ and Rh-) because their blood contains both A and B antigens and Rh factor, so their immune system won't reject any blood type."
              }
            },
            {
              "@type": "Question",
              "name": "What is the blood type of a universal donor?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "O negative (O-) is the universal donor blood type. People with O- blood can donate to anyone because their blood cells do not contain A, B, or Rh antigens, making it safe for all recipients regardless of their blood type. This makes O- blood extremely valuable in emergency situations."
              }
            }
          ]
        },
        {
          "@type": "SoftwareApplication",
          "name": "Blood Type Calculator",
          "applicationCategory": "HealthApplication",
          "operatingSystem": "All",
          "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "USD"
          }
        }
      ]
    }
    </script>
    <link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/css/templatemo-style.css" rel="stylesheet">

    <style>
        body, * {
            font-family: 'Raleway', sans-serif !important;
        }
        
        .material-icons {
            font-family: 'Material Icons' !important;
            font-weight: normal;
            font-style: normal;
            font-size: 24px;
            line-height: 1;
            letter-spacing: normal;
            text-transform: none;
            display: inline-block;
            white-space: nowrap;
            word-wrap: normal;
            direction: ltr;
            -webkit-font-feature-settings: 'liga';
            font-feature-settings: 'liga';
            -webkit-font-smoothing: antialiased;
        }
        
        .main-content-wrapper {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
        }

        .content-area {
            flex: 1;
            max-width: 800px;
        }
        
        body {
            background: #ffffff;
            min-height: 100vh;
        }
        .calculator-container {
            max-width: 900px;
            margin: 0 auto 20px auto;
            padding: 30px 40px;
            background-color: #fff;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15);
        }
        .breadcrumb {
            margin-bottom: 24px;
            font-size: 16px;
            color: #606060;
            text-align: left;
        }
        .breadcrumb a {
            color: #eb5424;
            text-decoration: none;
            transition: color 0.3s;
        }
        .breadcrumb a:hover {
            color: #d4441a;
        }
        .breadcrumb span {
            color: #606060;
            margin: 0 8px;
        }
        h1 {
            color: #303030;
            font-size: 1.5em;
            font-weight: 300;
            margin-bottom: 40px;
            text-transform: uppercase;
            letter-spacing: 1px;
            text-align: left;
        }
        .description {
            color: #606060;
            font-size: 16px;
            line-height: 28px;
            margin-bottom: 40px;
            text-align: left;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .input-field-container {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .input-field-container select {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1em;
            outline: none;
        }

        .input-field-container select:focus {
            border-color: #eb5424;
        }

        .parent-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .parent-box {
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border: 2px solid #e9ecef;
        }

        .parent-box h3 {
            color: #eb5424;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 500;
        }

        .result-section {
            margin-top: 30px;
            padding: 25px;
            background-color: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .result-section h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .blood-type-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .blood-type-item {
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-align: center;
        }

        .blood-type-item .type {
            font-size: 1.5em;
            font-weight: 600;
            color: #eb5424;
            margin-bottom: 8px;
        }

        .blood-type-item .probability {
            font-size: 1.1em;
            color: #666;
        }

        .rh-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .rh-item {
            padding: 15px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            text-align: center;
        }

        .rh-item .type {
            font-size: 1.3em;
            font-weight: 600;
            color: #eb5424;
            margin-bottom: 8px;
        }

        .rh-item .probability {
            font-size: 1.1em;
            color: #666;
        }

        .buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            max-width: 400px;
            margin: 25px auto 0 auto;
        }

        .btn-calculate {
            background-color: #eb5424;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .btn-calculate:hover {
            background-color: #d43d1a;
        }

        .btn-clear {
            background-color: #f5c6cb;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
        }

        .btn-clear:hover {
            background-color: #f1aeb5;
        }

        .error-message {
            display: none;
            color: #d43d1a;
            background-color: #f8d7da;
            padding: 12px;
            border-radius: 5px;
            margin-bottom: 20px;
            border: 1px solid #f5c6cb;
        }

        .punnett-square {
            margin-top: 25px;
            padding: 20px;
            background-color: white;
            border-radius: 8px;
            border: 1px solid #ddd;
        }

        .punnett-square h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .punnett-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .punnett-table td {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            background-color: #f8f9fa;
        }

        .punnett-table th {
            padding: 10px;
            text-align: center;
            border: 1px solid #ddd;
            background-color: #eb5424;
            color: white;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .main-content-wrapper {
                padding: 0 20px;
            }
            
            .calculator-container {
                padding: 25px 20px;
            }
            
            .parent-inputs {
                grid-template-columns: 1fr;
            }
            
            .blood-type-results {
                grid-template-columns: 1fr 1fr;
            }
            
            .rh-results {
                grid-template-columns: 1fr;
            }
            
            .buttons {
                grid-template-columns: 1fr;
                gap: 12px;
                max-width: 100%;
            }
            
            .btn-calculate,
            .btn-clear {
                width: 100%;
                padding: 15px;
                font-size: 16px;
            }
        }
    </style>
</head>
<body>
    <!-- START NAVIGATION -->
    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon icon-bar"></span>
                    <span class="icon icon-bar"></span>
                    <span class="icon icon-bar"></span>
                </button>
                <a href="../index.html" class="navbar-brand">CalculatorQuote</a>
            </div>
            <div class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="../index.html" class="smoothScroll">Home</a></li>
                    <li><a href="../math/index.html" class="smoothScroll">Math</a></li>
                    <li><a href="../financial/index.html" class="smoothScroll">Financial</a></li>
                    <li><a href="../health/index.html" class="smoothScroll">Health</a></li>
                    <li><a href="../home/index.html" class="smoothScroll">Home & Garden</a></li>
                    <li><a href="../pet/index.html" class="smoothScroll">Pet</a></li>
                    <li><a href="../sports/index.html" class="smoothScroll">Sports</a></li>
                    <li><a href="../other/index.html" class="smoothScroll">Other</a></li>
                    <li style="display: none;"><a href="../blog/index.html" class="smoothScroll">Blog</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- END NAVIGATION -->

    <!-- Main Content -->
    <section class="tm-padding-top-bottom-100" style="padding-top: 0px; padding-bottom: 1px;">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="main-content-wrapper">
                        <div class="content-area">
                            <div class="calculator-container">
        <div class="breadcrumb">
            <a href="../index.html">Home</a>
            <span>/</span>
            <a href="index.html">Health Calculators</a>
            <span>/</span>
            Blood Type Calculator
        </div>

        <h1>Pregnant and Unsure About Your Baby's Blood Type? Use This Calculator to Predict It Fast</h1>
        <div class="description">Not sure what blood type your baby might have during pregnancy? Many parents worry about ABO or Rh compatibility but don't know how to estimate it. Enter both parents' blood types into this calculator to quickly see all possible outcomes and get a clearer idea before birth.</div>

        <div id="error" class="error-message"></div>

        <div class="parent-inputs">
            <div class="parent-box">
                <h3>Mother's Blood Type</h3>
                <div class="input-group">
                    <label for="mother-abo">ABO Type:</label>
                    <div class="input-field-container">
                        <select id="mother-abo">
                            <option value="">Select...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="AB">AB</option>
                            <option value="O">O</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="mother-rh">Rh Factor:</label>
                    <div class="input-field-container">
                        <select id="mother-rh">
                            <option value="">Select...</option>
                            <option value="+">Rh+ (Positive)</option>
                            <option value="-">Rh- (Negative)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="parent-box">
                <h3>Father's Blood Type</h3>
                <div class="input-group">
                    <label for="father-abo">ABO Type:</label>
                    <div class="input-field-container">
                        <select id="father-abo">
                            <option value="">Select...</option>
                            <option value="A">A</option>
                            <option value="B">B</option>
                            <option value="AB">AB</option>
                            <option value="O">O</option>
                        </select>
                    </div>
                </div>
                <div class="input-group">
                    <label for="father-rh">Rh Factor:</label>
                    <div class="input-field-container">
                        <select id="father-rh">
                            <option value="">Select...</option>
                            <option value="+">Rh+ (Positive)</option>
                            <option value="-">Rh- (Negative)</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>

        <div class="buttons">
            <button class="btn-calculate" id="calc" onclick="calculateBloodType()">Calculate</button>
            <button class="btn-clear" id="clear" onclick="clearCalculator()">Clear</button>
        </div>

        <div class="result-section" id="output" style="display: none;">
            <h2>Possible Blood Types for Your Child</h2>
            
            <div id="abo-results">
                <h3 style="color: #333; margin-bottom: 15px; font-size: 1.2em;">ABO Blood Type Probabilities</h3>
                <div class="blood-type-results" id="blood-type-results"></div>
            </div>

            <div id="rh-results">
                <h3 style="color: #333; margin-bottom: 15px; font-size: 1.2em; margin-top: 25px;">Rh Factor Probabilities</h3>
                <div class="rh-results" id="rh-results-content"></div>
            </div>

            <div class="punnett-square" id="punnett-square" style="display: none;">
                <h3>Punnett Square for ABO Blood Types</h3>
                <table class="punnett-table" id="punnett-table"></table>
            </div>
        </div>

        <h3 style="margin-top: 40px; margin-bottom: 20px; color: #333; font-size: 1.3em; font-weight: 500;">Curious About Your Baby's Blood Type? Use This Simple Calculator to See All Possible Results</h3>
        
        <h4 style="color: #333; font-size: 1.3em; margin: 30px 0 20px; font-weight: 500;">What This Calculator Does and Who Should Use It</h4>
        <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">Many parents want to know their baby's possible blood type before birth. This tool makes that easy. The Blood Type Calculator shows likely outcomes based on both parents' blood groups. It works well for expectant parents, families who are planning for a child, and anyone who wants to understand how blood types pass from one generation to the next. You do not need a blood type test to use it. The results come from basic and well-known inheritance rules.</p>
        
        <h4 style="color: #333; font-size: 1.3em; margin: 30px 0 20px; font-weight: 500;">How Blood Types Pass From Parents to Children</h4>
        <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">Blood type inheritance follows simple patterns. The ABO system uses three letters: A, B, and O. A and B are stronger than O. If someone has A and O, that person will be type A. If someone has B and O, that person will be type B. A mix of A and B becomes AB. Two O letters form type O. When you enter the parents' types, the calculator checks all the possible combinations. This helps you understand how many blood types are there and how each type forms.</p>
        <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">The Rh factor works in a similar way. Rh-positive is stronger than Rh-negative. Two negative parents always have a negative child. One positive parent can have either positive or negative, depending on their genes. The calculator shows both ABO and Rh results. This information can help you if you want to check general Rh compatibility during pregnancy.</p>
        
        <h4 style="color: #333; font-size: 1.3em; margin: 30px 0 20px; font-weight: 500;">Common Questions About Blood Types</h4>
        <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">Many people also ask what's the most common blood type. In many places, O-positive is the most common. AB-negative is one of the rarest. These facts do not change the calculator, but they help explain why some results appear more often than others. Some users also look for topics like a positive blood type diet. These diets are popular online, but they do not have strong scientific support. Still, learning about your blood group can help you understand general health ideas and family traits.</p>
        
        <h4 style="color: #333; font-size: 1.3em; margin: 30px 0 20px; font-weight: 500;">Try the Calculator and Explore More Tools</h4>
        <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">You can use this tool any time you want to see possible blood types for a future child. You can also try different parent combinations to learn how results change. When you finish, you can explore other simple tools on this site. You can check your BMI, estimate your resting heart rate, or look up your ideal body weight. These tools give quick numbers that help you understand your health in a clear way. Start by entering both parents' blood types above, and see all possible outcomes in seconds.</p>

        <h4 style="color: #333; font-size: 1.3em; margin: 30px 0 20px; font-weight: 500;">‚ùìCommon Questions About Blood Types and How They Affect Your Baby</h4>
        
        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q1: What blood type will my baby have? ü§î</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: Your baby's blood type depends on the blood types of both parents. Each parent contributes one allele, and the combination determines the child's blood type. Use our calculator to see all possible blood types and their probabilities based on your and your partner's blood types.</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q2: Can a child have a different blood type than both parents?</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: Yes, absolutely! A child can have a different blood type than both parents. For example, if one parent is AB+ and the other is O+, their children can only have A or B blood types, not AB or O. This is because of how the alleles combine during inheritance. üß¨</p>
        </div>
        
        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q3: What are the rarest blood types?</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: The rarest blood types are AB negative (1% of population), B negative (2%), and AB positive (2%). O positive is the most common (35%), followed by A positive (30%), O negative (13%), and A negative (8%). B positive is also relatively rare at 8%.</p>
        </div>

        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q4: What blood type suits everyone?</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: O-negative blood can be given to everyone, making it the universal donor type. This is because O-negative blood cells do not contain any antigens that the immune system of a person with another blood type could label as a threat. This makes O- blood extremely valuable in emergency situations. üÜò</p>
        </div>

        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q5: Can 2 parents with type B blood have a child with blood type O?</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: Yes, it's possible! Two parents with type B blood can both have BO alleles (heterozygous). If each of them passes on the O allele, the child will have OO genotype, resulting in type O blood. This is why blood type testing is important for understanding genetic inheritance. üë®‚Äçüë©‚Äçüëß</p>
        </div>

        <div class="faq-item" style="margin-bottom: 20px;">
            <p class="faq-question" style="color: #333; font-size: 1.1em; font-weight: 700; margin-bottom: 10px;"><strong>Q6: Why is Rh factor important during pregnancy?</strong></p>
            <p class="faq-answer" style="color: #666; font-size: 1.1em; line-height: 1.6;">A: Rh- mothers carrying Rh+ babies may develop antibodies against the baby's blood, which can cause hemolytic disease in subsequent pregnancies. Rh- mothers need to receive Rh immunoglobulin (RhIg) injections to prevent this complication. This is why knowing both ABO and Rh blood types is crucial for prenatal care. ü§∞</p>
        </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer style="max-width: 800px; margin: 40px auto 0 auto; padding: 32px 0 0 0; text-align: center; color: #888; font-size: 1em;">
        <nav style="margin-bottom: 8px;">
            <a href="../about-us.html" style="color: #eb5424; text-decoration: none; margin: 0 18px; transition: color 0.2s;">About Us</a>
            <span style="color: #ccc;">|</span>
            <a href="../terms-of-use.html" style="color: #eb5424; text-decoration: none; margin: 0 18px; transition: color 0.2s;">Terms of Use</a>
            <span style="color: #ccc;">|</span>
            <a href="../privacy-policy.html" style="color: #eb5424; text-decoration: none; margin: 0 18px; transition: color 0.2s;">Privacy Policy</a>
        </nav>
        <div style="color: #bbb; font-size: 0.98em;">&copy; 2025 CalculatorQuote.com. All rights reserved.</div>
    </footer>

    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <script>
        // Blood type inheritance logic
        // Genotypes: A = AA or AO, B = BB or BO, AB = AB, O = OO
        // A and B are dominant, O is recessive

        function getPossibleGenotypes(bloodType) {
            switch(bloodType) {
                case 'A':
                    return ['AA', 'AO'];
                case 'B':
                    return ['BB', 'BO'];
                case 'AB':
                    return ['AB'];
                case 'O':
                    return ['OO'];
                default:
                    return [];
            }
        }

        function getAllelesFromGenotype(genotype) {
            return genotype.split('');
        }

        function getPhenotypeFromGenotype(genotype) {
            if (genotype.includes('A') && genotype.includes('B')) {
                return 'AB';
            } else if (genotype.includes('A')) {
                return 'A';
            } else if (genotype.includes('B')) {
                return 'B';
            } else {
                return 'O';
            }
        }

        function calculateABOProbabilities(motherType, fatherType) {
            const motherGenotypes = getPossibleGenotypes(motherType);
            const fatherGenotypes = getPossibleGenotypes(fatherType);
            
            const outcomes = {};
            let totalOutcomes = 0;

            // Calculate all possible combinations
            motherGenotypes.forEach(motherGeno => {
                fatherGenotypes.forEach(fatherGeno => {
                    const motherAlleles = getAllelesFromGenotype(motherGeno);
                    const fatherAlleles = getAllelesFromGenotype(fatherGeno);
                    
                    // Each parent contributes one allele
                    motherAlleles.forEach(mAllele => {
                        fatherAlleles.forEach(fAllele => {
                            const childGenotype = [mAllele, fAllele].sort().join('');
                            const childPhenotype = getPhenotypeFromGenotype(childGenotype);
                            
                            if (!outcomes[childPhenotype]) {
                                outcomes[childPhenotype] = 0;
                            }
                            outcomes[childPhenotype]++;
                            totalOutcomes++;
                        });
                    });
                });
            });

            // Convert to probabilities
            const probabilities = {};
            Object.keys(outcomes).forEach(type => {
                probabilities[type] = (outcomes[type] / totalOutcomes) * 100;
            });

            return probabilities;
        }

        function calculateRhProbabilities(motherRh, fatherRh) {
            // Rh+ is dominant (D), Rh- is recessive (d)
            // Rh+ can be DD or Dd, Rh- is dd
            
            if (motherRh === '-' && fatherRh === '-') {
                // Both negative: 100% negative
                return { '+': 0, '-': 100 };
            } else if (motherRh === '+' && fatherRh === '+') {
                // Both positive: 93.75% positive, 6.25% negative (if both are heterozygous Dd)
                // For simplicity, we'll use the more common scenario
                // If at least one is homozygous DD, then 100% positive
                // If both are heterozygous Dd, then 75% positive, 25% negative
                // We'll use the average: 93.75% positive, 6.25% negative
                return { '+': 93.75, '-': 6.25 };
            } else {
                // One positive, one negative: 75% positive, 25% negative
                return { '+': 75, '-': 25 };
            }
        }

        function calculateBloodType() {
            const motherABOEl = document.getElementById('mother-abo');
            const motherRhEl = document.getElementById('mother-rh');
            const fatherABOEl = document.getElementById('father-abo');
            const fatherRhEl = document.getElementById('father-rh');
            const errorEl = document.getElementById('error');
            const outputEl = document.getElementById('output');
            
            // Element existence checks
            if (!motherABOEl || !motherRhEl || !fatherABOEl || !fatherRhEl || !errorEl || !outputEl) {
                console.error('Required DOM elements not found');
                return;
            }
            
            const motherABO = motherABOEl.value;
            const motherRh = motherRhEl.value;
            const fatherABO = fatherABOEl.value;
            const fatherRh = fatherRhEl.value;
            
            // Validation
            if (!motherABO || !motherRh || !fatherABO || !fatherRh) {
                errorEl.textContent = 'Please select blood types for both parents.';
                errorEl.style.display = 'block';
                outputEl.style.display = 'none';
                return;
            }
            
            errorEl.style.display = 'none';
            
            // Calculate ABO probabilities
            const aboProbs = calculateABOProbabilities(motherABO, fatherABO);
            
            // Calculate Rh probabilities
            const rhProbs = calculateRhProbabilities(motherRh, fatherRh);
            
            // Display ABO results
            const aboResultsEl = document.getElementById('blood-type-results');
            if (aboResultsEl) {
                aboResultsEl.innerHTML = '';
                
                const aboTypes = ['A', 'B', 'AB', 'O'];
                aboTypes.forEach(type => {
                    if (aboProbs[type] !== undefined) {
                        const item = document.createElement('div');
                        item.className = 'blood-type-item';
                        item.innerHTML = `
                            <div class="type">${type}</div>
                            <div class="probability">${aboProbs[type].toFixed(1)}%</div>
                        `;
                        aboResultsEl.appendChild(item);
                    }
                });
            }
            
            // Display Rh results
            const rhResultsEl = document.getElementById('rh-results-content');
            if (rhResultsEl) {
                rhResultsEl.innerHTML = '';
                
                ['+', '-'].forEach(rh => {
                    const item = document.createElement('div');
                    item.className = 'rh-item';
                    item.innerHTML = `
                        <div class="type">Rh${rh === '+' ? '+' : '-'}</div>
                        <div class="probability">${rhProbs[rh].toFixed(1)}%</div>
                    `;
                    rhResultsEl.appendChild(item);
                });
            }
            
            // Generate Punnett square
            generatePunnettSquare(motherABO, fatherABO);
            
            outputEl.style.display = 'block';
        }

        function generatePunnettSquare(motherType, fatherType) {
            const motherGenotypes = getPossibleGenotypes(motherType);
            const fatherGenotypes = getPossibleGenotypes(fatherType);
            
            // For simplicity, show the most common scenario
            // If multiple genotypes are possible, we'll show one representative square
            const motherGeno = motherGenotypes[0];
            const fatherGeno = fatherGenotypes[0];
            
            if (!motherGeno || !fatherGeno) {
                return;
            }
            
            const motherAlleles = getAllelesFromGenotype(motherGeno);
            const fatherAlleles = getAllelesFromGenotype(fatherGeno);
            
            const table = document.getElementById('punnett-table');
            const punnettSquare = document.getElementById('punnett-square');
            
            if (!table || !punnettSquare) {
                return;
            }
            
            table.innerHTML = '';
            
            // Create header row
            const headerRow = document.createElement('tr');
            headerRow.appendChild(document.createElement('th')); // Empty corner cell
            fatherAlleles.forEach(allele => {
                const th = document.createElement('th');
                th.textContent = allele;
                headerRow.appendChild(th);
            });
            table.appendChild(headerRow);
            
            // Create data rows
            motherAlleles.forEach(mAllele => {
                const row = document.createElement('tr');
                const rowHeader = document.createElement('th');
                rowHeader.textContent = mAllele;
                row.appendChild(rowHeader);
                
                fatherAlleles.forEach(fAllele => {
                    const cell = document.createElement('td');
                    const genotype = [mAllele, fAllele].sort().join('');
                    const phenotype = getPhenotypeFromGenotype(genotype);
                    cell.textContent = phenotype;
                    row.appendChild(cell);
                });
                
                table.appendChild(row);
            });
            
            punnettSquare.style.display = 'block';
        }

        function clearCalculator() {
            const motherABOEl = document.getElementById('mother-abo');
            const motherRhEl = document.getElementById('mother-rh');
            const fatherABOEl = document.getElementById('father-abo');
            const fatherRhEl = document.getElementById('father-rh');
            const outputEl = document.getElementById('output');
            const errorEl = document.getElementById('error');
            
            if (motherABOEl) motherABOEl.value = '';
            if (motherRhEl) motherRhEl.value = '';
            if (fatherABOEl) fatherABOEl.value = '';
            if (fatherRhEl) fatherRhEl.value = '';
            if (outputEl) outputEl.style.display = 'none';
            if (errorEl) errorEl.style.display = 'none';
        }

        // Wait for DOM to be ready before attaching event listeners
        document.addEventListener('DOMContentLoaded', function() {
            // Allow Enter key to calculate
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' && e.target.tagName === 'SELECT') {
                    e.preventDefault();
                    calculateBloodType();
                }
            });
        });
    </script>
</body>
</html>

