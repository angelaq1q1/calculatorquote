<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Matrix Calculator Online | Multiplication & Inverse – Find Inverse of a Matrix Calculator</title>
    <meta name="description" content="Free matrix calculator online for addition, subtraction, multiplication, and inverse. Step-by-step results for matrix product A×B and inverse of a matrix — find inverse of a matrix calculator fast.">
    <meta name="keywords" content="find inverse of a matrix calculator, matrix calculator, inverse matrix calculator, matrix multiplication calculator, online matrix calculator">
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8831713993918492"
         crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background-color: #f5f5f5;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            padding: 40px 20px;
        }

        .main-container {
            display: flex;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            gap: 30px;
            align-items: flex-start;
        }

        .content-wrapper {
            flex: 1;
            max-width: 800px;
            background: none;
            border-radius: 0;
        }

        .ad-sidebar {
            width: 300px;
            background: #fff;
            border-radius: 20px;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15);
            padding: 20px;
            position: sticky;
            top: 20px;
        }

        .ad-container {
            width: 100%;
            height: 600px;
            background: #f8f9fa;
            border: 2px dashed #ddd;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-size: 0.9em;
            text-align: center;
        }


        .breadcrumb {
            margin-bottom: 20px;
            font-size: 1em;
            color: #666;
        }

        .breadcrumb a {
            color: #2196F3;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: #1976D2;
        }

        .breadcrumb span {
            color: #666;
            margin: 0 8px;
        }

        .page-header {
            margin-bottom: 30px;
        }

        .page-header h1 {
            color: #222;
            font-size: 1.3em;
            font-weight: 700;
            line-height: 1.3;
            margin-bottom: 20px;
            text-align: left;
        }

        .calculator-container {
            background-color: #ffffff;
            border-radius: 20px;
            padding: 30px;
            width: 100%;
            max-width: 800px;
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.15);
            margin-bottom: 40px;
        }

        .page-description {
            color: #666;
            font-size: 1.1em;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .related-calculators {
            margin-top: 40px;
            padding: 20px;
            background: none;
            border-radius: 0;
        }

        .related-calculators h2 {
            color: #333;
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .related-calculators ul {
            list-style: none;
            padding: 0;
        }

        .related-calculators li {
            margin-bottom: 10px;
        }

        .related-calculators a {
            color: #2196F3;
            text-decoration: none;
            transition: color 0.3s;
        }

        .related-calculators a:hover {
            color: #1976D2;
        }

        @media (max-width: 1024px) {
            .main-container {
                flex-direction: column;
                gap: 20px;
            }
            .ad-sidebar {
                width: 100%;
                position: static;
                order: -1;
            }
            .ad-container {
                height: 250px;
            }
        }

        @media (max-width: 600px) {
            .ad-container {
                height: 200px;
            }
        }

        .calculator-layout {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin-bottom: 30px;
            align-items: flex-start;
        }

        .matrix-input-section {
            width: 100%;
            max-width: 600px;
            padding: 10px 16px 16px 16px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            margin-left: 0;
        }

        .matrix-header {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 0;
        }

        .matrix-title {
            font-size: 1.2em;
            color: #2196F3;
            font-weight: 500;
            margin-bottom: 10px;
            display: inline-block;
        }

        .dimension-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .dimension-input {
            width: 50px;
            height: 30px;
            border: 1px solid #2196F3;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
        }

        .matrix-grid {
            display: grid;
            gap: 5px;
            margin: 15px 0;
            justify-content: flex-start;
        }

        .matrix-input {
            width: 50px;
            height: 30px;
            border: 1px solid #2196F3;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
        }

        .matrix-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 15px;
            align-items: flex-start;
        }

        .button-row {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: flex-start;
        }

        .matrix-button {
            padding: 6px 12px;
            background: #fff;
            border: 1px solid #2196F3;
            border-radius: 4px;
            color: #2196F3;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.85em;
            white-space: nowrap;
            min-width: fit-content;
        }

        .matrix-button:hover {
            background: #2196F3;
            color: #fff;
        }

        .matrix-button.number-input {
            background: #fff;
            border: 1px solid #ccc;
            color: #333;
        }

        .power-input,
        .scalar-input {
            width: 40px;
            height: 30px;
            border: 1px solid #2196F3;
            border-radius: 4px;
            text-align: center;
            font-size: 0.9em;
            margin: 0 4px;
        }

        .operations-section {
            display: flex;
            justify-content: flex-start;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .operation-button {
            padding: 8px 15px;
            background: #2196F3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-size: 1em;
            min-width: 80px;
            text-align: center;
        }

        .operation-button:hover {
            background: #1976D2;
        }

        .result-section {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e0e0e0;
            display: none; /* 初始隐藏 */
        }

        .result-section.show {
            display: block; /* 显示时显示 */
        }

        .result-title {
            color: #2196F3;
            margin-bottom: 15px;
            font-size: 1.2em;
            font-weight: 500;
        }

        .result-grid {
            display: grid;
            gap: 5px;
            margin-top: 15px;
            justify-content: center;
        }

        .result-cell {
            width: 50px;
            height: 30px;
            border: 1px solid #2196F3;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
            font-size: 0.9em;
        }

        .error {
            color: #f44336;
            text-align: center;
            margin-top: 10px;
            font-size: 0.9em;
        }

        @media (max-width: 768px) {
            .calculator-layout {
                gap: 20px;
            }

            .matrix-buttons {
                justify-content: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="content-wrapper">
        <div class="breadcrumb">
            <a href="../index.html">Home</a>
            <span>/</span>
                    <a href="index.html">Math Calculators</a>
        <span>/</span>
        Matrix Calculator
        </div>

            <div class="calculator-container">
                <div class="page-header">
                    <h1>Matrix Calculator Online – Multiplication, Product & Inverse (Step-by-Step)</h1>
                </div>

                <p style="color: #666; font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">
                    Use our matrix calculator online to add, subtract, and compute the product of matrices (A×B). Get step-by-step results for matrix multiplication and quickly find the inverse of a matrix — a simple, fast matrix by calculator experience for students and engineers. If you're looking for an inverse matrix calculator 3×3 or even an inverse of a 3×3 matrix calculator workflow, this tool handles it in-browser with no setup.
                </p>
        <div class="calculator-layout">
            <!-- Matrix A Section -->
            <div class="matrix-input-section">
                <div class="matrix-header">
                    <div class="matrix-title">Matrix A</div>
                    <div class="dimension-control">
                        <label>Rows:</label>
                        <input type="number" class="dimension-input" id="matrix-a-rows" value="2" min="1" max="10">
                        <label>Cols:</label>
                        <input type="number" class="dimension-input" id="matrix-a-cols" value="2" min="1" max="10">
                    </div>
                </div>
                <div id="matrix-a-grid" class="matrix-grid"></div>
                <div class="matrix-buttons">
                    <div class="button-row">
                        <button class="matrix-button" onclick="clearMatrix('a')">Clear</button>
                        <button class="matrix-button" onclick="fillMatrix('a', 0)">All 0</button>
                        <button class="matrix-button" onclick="fillMatrix('a', 1)">All 1</button>
                        <button class="matrix-button" onclick="randomMatrix('a')">Random</button>
                    </div>
                    <div class="button-row">
                        <button class="matrix-button" onclick="transposeMatrix('a')">Transpose</button>
                        <button class="matrix-button" onclick="powerMatrix('a')">Power of</button>
                        <input type="number" class="power-input" id="matrix-a-power" value="2" min="1" max="10">
                    </div>
                    <div class="button-row">
                        <button class="matrix-button" onclick="calculateDeterminant('a')">Determinant</button>
                        <button class="matrix-button" onclick="calculateInverse('a')">Inverse</button>
                        <button class="matrix-button" onclick="multiplyByScalar('a')">×</button>
                        <input type="number" class="scalar-input" id="matrix-a-scalar" value="3">
                    </div>
                </div>
            </div>

            <!-- Matrix B Section -->
            <div class="matrix-input-section">
                <div class="matrix-header">
                    <div class="matrix-title">Matrix B</div>
                    <div class="dimension-control">
                        <label>Rows:</label>
                        <input type="number" class="dimension-input" id="matrix-b-rows" value="2" min="1" max="10">
                        <label>Cols:</label>
                        <input type="number" class="dimension-input" id="matrix-b-cols" value="2" min="1" max="10">
                    </div>
                </div>
                <div id="matrix-b-grid" class="matrix-grid"></div>
                <div class="matrix-buttons">
                    <div class="button-row">
                        <button class="matrix-button" onclick="clearMatrix('b')">Clear</button>
                        <button class="matrix-button" onclick="fillMatrix('b', 0)">All 0</button>
                        <button class="matrix-button" onclick="fillMatrix('b', 1)">All 1</button>
                        <button class="matrix-button" onclick="randomMatrix('b')">Random</button>
                    </div>
                    <div class="button-row">
                        <button class="matrix-button" onclick="transposeMatrix('b')">Transpose</button>
                        <button class="matrix-button" onclick="powerMatrix('b')">Power of</button>
                        <input type="number" class="power-input" id="matrix-b-power" value="2" min="1" max="10">
                    </div>
                    <div class="button-row">
                        <button class="matrix-button" onclick="calculateDeterminant('b')">Determinant</button>
                        <button class="matrix-button" onclick="calculateInverse('b')">Inverse</button>
                        <button class="matrix-button" onclick="multiplyByScalar('b')">×</button>
                        <input type="number" class="scalar-input" id="matrix-b-scalar" value="3">
                    </div>
                </div>
            </div>
        </div>

        <div class="operations-section">
            <button class="operation-button" onclick="addMatrices()">A + B</button>
            <button class="operation-button" onclick="subtractMatrices()">A - B</button>
            <button class="operation-button" onclick="multiplyMatrices()">A × B</button>
            <button class="operation-button" onclick="swapMatrices()">A ↔ B</button>
        </div>

        <div class="result-section">
            <div class="result-title">Result</div>
            <div id="result-grid" class="result-grid"></div>
            <div id="error-message" class="error"></div>
                </div>

            <div class="related-calculators">
                <h2>Related Contents</h2>
                <p><a href="../blog/how-to-use-matrix-calculator.html" style="color: #2196F3; text-decoration: none; font-size: 1.1em; line-height: 1.6;">How to Use a Matrix Calculator for Education and Research in 2025 (Step-by-Step Guide)</a></p>
                <p><a href="../blog/how-to-detect-and-fix-skewed-3D-animations.html" style="color: #2196F3; text-decoration: none; font-size: 1.1em; line-height: 1.6;">How to Detect and Fix Skewed 3D Animations with a Matrix Calculator and Cut Production Costs by $200</a></p>
                <p><a href="../blog/how-to-use-a-matrix-calculator-to-save-money.html" style="color: #2196F3; text-decoration: none; font-size: 1.1em; line-height: 1.6;">How to Use a Matrix Calculator to Optimize Robotics Movements and Save $5,000 on Production</a></p>
            </div>

            <div class="page-description">
                <p style="font-size: 1.2em; margin-bottom: 20px;">🧠 Matrix Calculator – Because solving 3×3 matrices by hand is pure pain 😵‍💫</p>
                <p>Let's face it:<br>
                The moment your math homework says "find the determinant", your brain says "find the exit".</p>
                <p>Whether you're an engineering student trying to survive, or just someone who's been betrayed by linear algebra one too many times, our Matrix Calculator is here to help — no sweat, no scribbles, just clean, fast math.</p>
                <h3 style="margin: 20px 0 10px;">💡 What does it do?</h3>
                <ul style="list-style: none; padding-left: 0;">
                    <li style="margin-bottom: 10px;">✅ Add, subtract, and multiply matrices — without breaking a pencil</li>
                    <li style="margin-bottom: 10px;">✅ Transpose and invert like a pro (or at least look like one)</li>
                    <li style="margin-bottom: 10px;">✅ Calculate determinants faster than your TA can say "Gaussian elimination"</li>
                    <li style="margin-bottom: 10px;">✅ Supports up to 5×5 matrices — because anything bigger is just cruel</li>
                    <li style="margin-bottom: 10px;">✅ Works right in your browser — no download, no math degree required</li>
                </ul>
                <h3 style="margin: 20px 0 10px;">❓ FAQ – Because math hurts enough without more confusion</h3>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Is this free?</strong><br>
                    Yep. We won't charge you for math misery. Free to use, forever. Just the occasional chill ad.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Can it handle non-square matrices?</strong><br>
                    Totally. But inverse is square-only — even a calculator has standards.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Will this help me pass my exam?</strong><br>
                    It can assist you. Whether you pass depends on how much you've ignored the lectures.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Does it store my data?</strong><br>
                    Nope. Your failed matrix attempts vanish into the void. No judgment.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Why not just use a spreadsheet?</strong><br>
                    Ever tried inverting a 4×4 matrix in Excel? Exactly.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Can I use this matrix calculator for school exams?</strong><br>
                    Absolutely. This matrix math calculator is great for high school, college, or even engineering-level problems.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Is this the same as a matrix multiplication calculator?</strong><br>
                    Yes! It supports matrix multiplication and more.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Does it work for 3×3 inverses?</strong><br>
                    Yes. If you searched for an <em>inverse matrix calculator 3x3</em> or an <em>inverse of a 3x3 matrix calculator</em>, this tool computes 2×2 up to 5×5 inverses directly in your browser.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Is this a det of matrix calculator?</strong><br>
                    Yep — it calculates determinants, including 3×3 and 4×4. Just enter your matrix and hit Determinant.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Does this matrix calculator include RREF?</strong><br>
                    Not yet. If you’re after a <em>matrix calculator with rref</em>, that feature is on our roadmap. For now, you can compute transpose, determinant, inverse, powers, and more.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Can I convert equations to a matrix here?</strong><br>
                    If you’re looking for an <em>equation to matrix calculator</em> or a <em>matrix calculator equation</em> workflow, enter the coefficients into Matrix A manually to form your coefficient matrix. Direct equation parsing isn’t supported yet.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: How does this compare to the Desmos matrix calculator?</strong><br>
                    This is a lightweight, focused alternative to a <em>Desmos matrix calculator</em> — no account needed, quick inputs, and fast results for common operations.</p>
                </div>
                <div style="margin-bottom: 15px;">
                    <p><strong>Q: Do I need Python or a TI‑84?</strong><br>
                    No. If you were searching for a <em>matrix calculator in Python</em> or a <em>matrix calculator TI‑84</em>, this web tool gives you the same core operations without installing anything or using a handheld calculator.</p>
                </div>
            </div>
        </div>

    </div>
    
    <!-- Ad Sidebar -->
    <div class="ad-sidebar">
        <div class="ad-container">
            <div>
                <p>Advertisement</p>
                <p style="font-size: 0.8em; margin-top: 10px;">Ad space for Google AdSense</p>
            </div>
        </div>
    </div>
    </div>

    <footer style="max-width: 1200px; margin: 40px auto 0 auto; padding: 32px 0 0 0; text-align: center; color: #888; font-size: 1em;">
        <nav style="margin-bottom: 8px;">
            <a href="../about-us.html" style="color: #2196F3; text-decoration: none; margin: 0 18px; transition: color 0.2s;">About Us</a>
            <span style="color: #ccc;">|</span>
            <a href="../term-of-use.html" style="color: #2196F3; text-decoration: none; margin: 0 18px; transition: color 0.2s;">Terms of Use</a>
            <span style="color: #ccc;">|</span>
            <a href="../privacy-policy.html" style="color: #2196F3; text-decoration: none; margin: 0 18px; transition: color 0.2s;">Privacy Policy</a>
        </nav>
        <div style="color: #bbb; font-size: 0.98em;">&copy; 2025 CalculatorQuote.com. All rights reserved.</div>
    </footer>

    <script>
        // 初始化矩阵
        function initializeMatrix(matrixId, rows, cols) {
            const grid = document.getElementById(`matrix-${matrixId}-grid`);
            grid.style.gridTemplateColumns = `repeat(${cols}, 60px)`;
            grid.innerHTML = '';

            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.className = 'matrix-input';
                    input.dataset.row = i;
                    input.dataset.col = j;
                    input.value = '0';
                    grid.appendChild(input);
                }
            }
        }

        // 获取矩阵值
        function getMatrixValues(matrixId) {
            const rows = parseInt(document.getElementById(`matrix-${matrixId}-rows`).value);
            const cols = parseInt(document.getElementById(`matrix-${matrixId}-cols`).value);
            const matrix = [];

            for (let i = 0; i < rows; i++) {
                matrix[i] = [];
                for (let j = 0; j < cols; j++) {
                    const input = document.querySelector(`#matrix-${matrixId}-grid input[data-row="${i}"][data-col="${j}"]`);
                    matrix[i][j] = parseFloat(input.value) || 0;
                }
            }

            return matrix;
        }

        // 设置矩阵值
        function setMatrixValues(matrixId, matrix) {
            const rows = matrix.length;
            const cols = matrix[0].length;
            
            document.getElementById(`matrix-${matrixId}-rows`).value = rows;
            document.getElementById(`matrix-${matrixId}-cols`).value = cols;
            
            initializeMatrix(matrixId, rows, cols);
            
            for (let i = 0; i < rows; i++) {
                for (let j = 0; j < cols; j++) {
                    const input = document.querySelector(`#matrix-${matrixId}-grid input[data-row="${i}"][data-col="${j}"]`);
                    input.value = matrix[i][j];
                }
            }
        }

        // 显示结果
        function displayResult(matrix) {
            const resultSection = document.querySelector('.result-section');
            const resultGrid = document.getElementById('result-grid');
            
            // 显示结果部分
            resultSection.classList.add('show');
            
            resultGrid.style.gridTemplateColumns = `repeat(${matrix[0].length}, 60px)`;
            resultGrid.innerHTML = '';

            for (let i = 0; i < matrix.length; i++) {
                for (let j = 0; j < matrix[0].length; j++) {
                    const cell = document.createElement('div');
                    cell.className = 'result-cell';
                    cell.textContent = matrix[i][j].toFixed(2);
                    resultGrid.appendChild(cell);
                }
            }
        }

        // 清除矩阵
        function clearMatrix(matrixId) {
            const inputs = document.querySelectorAll(`#matrix-${matrixId}-grid input`);
            inputs.forEach(input => input.value = '0');
        }

        // 填充矩阵
        function fillMatrix(matrixId, value) {
            const inputs = document.querySelectorAll(`#matrix-${matrixId}-grid input`);
            inputs.forEach(input => input.value = value.toString());
        }

        // 随机矩阵
        function randomMatrix(matrixId) {
            const inputs = document.querySelectorAll(`#matrix-${matrixId}-grid input`);
            inputs.forEach(input => input.value = Math.floor(Math.random() * 10));
        }

        // 转置矩阵
        function transposeMatrix(matrixId) {
            const matrix = getMatrixValues(matrixId);
            const transposed = matrix[0].map((_, colIndex) => matrix.map(row => row[colIndex]));
            setMatrixValues(matrixId, transposed);
        }

        // 计算行列式
        function calculateDeterminant(matrixId) {
            const matrix = getMatrixValues(matrixId);
            if (matrix.length !== matrix[0].length) {
                document.getElementById('error-message').textContent = 'Matrix must be square to calculate determinant';
                return;
            }

            const det = determinant(matrix);
            const resultSection = document.querySelector('.result-section');
            const resultGrid = document.getElementById('result-grid');
            
            // 显示结果部分
            resultSection.classList.add('show');
            resultGrid.innerHTML = `<div class="result-cell">Determinant = ${det.toFixed(2)}</div>`;
        }

        // 计算逆矩阵
        function calculateInverse(matrixId) {
            const matrix = getMatrixValues(matrixId);
            if (matrix.length !== matrix[0].length) {
                document.getElementById('error-message').textContent = 'Matrix must be square to calculate inverse';
                return;
            }

            const det = determinant(matrix);
            if (Math.abs(det) < 1e-10) {
                document.getElementById('error-message').textContent = 'Matrix is not invertible';
                return;
            }

            try {
                const inverse = inverseMatrix(matrix);
                displayResult(inverse);
                document.getElementById('error-message').textContent = '';
            } catch (e) {
                document.getElementById('error-message').textContent = e.message;
            }
        }

        // 矩阵加法
        function addMatrices() {
            const matrixA = getMatrixValues('a');
            const matrixB = getMatrixValues('b');

            if (matrixA.length !== matrixB.length || matrixA[0].length !== matrixB[0].length) {
                document.getElementById('error-message').textContent = 'Matrices must have the same dimensions for addition';
                return;
            }

            const result = matrixA.map((row, i) => row.map((val, j) => val + matrixB[i][j]));
            displayResult(result);
            document.getElementById('error-message').textContent = '';
        }

        // 矩阵减法
        function subtractMatrices() {
            const matrixA = getMatrixValues('a');
            const matrixB = getMatrixValues('b');

            // 显示结果区域
            const resultSection = document.querySelector('.result-section');
            resultSection.classList.add('show');

            if (matrixA.length !== matrixB.length || matrixA[0].length !== matrixB[0].length) {
                document.getElementById('error-message').textContent = 'Matrices must have the same dimensions for subtraction';
                return;
            }

            const result = matrixA.map((row, i) => row.map((val, j) => val - matrixB[i][j]));
            displayResult(result);
            document.getElementById('error-message').textContent = '';
        }

        // 矩阵乘法
        function multiplyMatrices() {
            const matrixA = getMatrixValues('a');
            const matrixB = getMatrixValues('b');

            // 显示结果区域
            const resultSection = document.querySelector('.result-section');
            resultSection.classList.add('show');

            if (matrixA[0].length !== matrixB.length) {
                document.getElementById('error-message').textContent = 'Number of columns in first matrix must equal number of rows in second matrix';
                return;
            }

            const result = matrixA.map((row, i) => 
                matrixB[0].map((_, j) => 
                    row.reduce((sum, val, k) => sum + val * matrixB[k][j], 0)
                )
            );

            displayResult(result);
            document.getElementById('error-message').textContent = '';
        }

        // 交换矩阵
        function swapMatrices() {
            const matrixA = getMatrixValues('a');
            const matrixB = getMatrixValues('b');
            setMatrixValues('a', matrixB);
            setMatrixValues('b', matrixA);
            
            // 显示结果区域并显示交换成功消息
            const resultSection = document.querySelector('.result-section');
            const resultGrid = document.getElementById('result-grid');
            
            resultSection.classList.add('show');
            resultGrid.style.gridTemplateColumns = '1fr';
            resultGrid.innerHTML = '<div style="text-align: center; padding: 15px; font-weight: 500; color: #2196F3; font-size: 1.1em;">✓ Matrices A and B swapped successfully!</div>';
            document.getElementById('error-message').textContent = '';
        }

        // 计算行列式
        function determinant(matrix) {
            if (matrix.length === 1) return matrix[0][0];
            if (matrix.length === 2) {
                return matrix[0][0] * matrix[1][1] - matrix[0][1] * matrix[1][0];
            }

            let det = 0;
            for (let i = 0; i < matrix.length; i++) {
                det += Math.pow(-1, i) * matrix[0][i] * determinant(minor(matrix, 0, i));
            }
            return det;
        }

        // 计算余子式
        function minor(matrix, row, col) {
            return matrix
                .filter((_, index) => index !== row)
                .map(row => row.filter((_, index) => index !== col));
        }

        // 计算逆矩阵
        function inverseMatrix(matrix) {
            const det = determinant(matrix);
            if (Math.abs(det) < 1e-10) {
                throw new Error('Matrix is not invertible');
            }

            if (matrix.length === 2) {
                return [
                    [matrix[1][1] / det, -matrix[0][1] / det],
                    [-matrix[1][0] / det, matrix[0][0] / det]
                ];
            }

            const cofactors = matrix.map((row, i) =>
                row.map((_, j) => Math.pow(-1, i + j) * determinant(minor(matrix, i, j)))
            );

            const adjugate = cofactors[0].map((_, i) =>
                cofactors.map(row => row[i])
            );

            return adjugate.map(row =>
                row.map(val => val / det)
            );
        }

        // 添加新的矩阵幂运算函数
        function powerMatrix(matrixId) {
            const matrix = getMatrixValues(matrixId);
            const power = parseInt(document.getElementById(`matrix-${matrixId}-power`).value);
            
            if (matrix.length !== matrix[0].length) {
                document.getElementById('error-message').textContent = 'Matrix must be square for power operation';
                return;
            }

            if (power < 1) {
                document.getElementById('error-message').textContent = 'Power must be positive';
                return;
            }

            let result = matrix;
            for (let i = 1; i < power; i++) {
                result = multiplyMatricesHelper(result, matrix);
            }

            displayResult(result);
            document.getElementById('error-message').textContent = '';
        }

        // 添加新的标量乘法函数
        function multiplyByScalar(matrixId) {
            const matrix = getMatrixValues(matrixId);
            const scalar = parseFloat(document.getElementById(`matrix-${matrixId}-scalar`).value);

            const result = matrix.map(row => row.map(val => val * scalar));
            displayResult(result);
            document.getElementById('error-message').textContent = '';
        }

        // 辅助函数：矩阵乘法计算
        function multiplyMatricesHelper(matrixA, matrixB) {
            return matrixA.map((row, i) => 
                matrixB[0].map((_, j) => 
                    row.reduce((sum, val, k) => sum + val * matrixB[k][j], 0)
                )
            );
        }

        // 监听维度变化
        ['a', 'b'].forEach(matrixId => {
            ['rows', 'cols'].forEach(dim => {
                document.getElementById(`matrix-${matrixId}-${dim}`).addEventListener('change', function() {
                    const rows = parseInt(document.getElementById(`matrix-${matrixId}-rows`).value);
                    const cols = parseInt(document.getElementById(`matrix-${matrixId}-cols`).value);
                    initializeMatrix(matrixId, rows, cols);
                });
            });
        });

        // 初始化矩阵
        initializeMatrix('a', 2, 2);
        initializeMatrix('b', 2, 2);

        // Initialize AdSense ads
        window.onload = function() {
            (adsbygoogle = window.adsbygoogle || []).push({});
        };
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Calculator",
      "name": "Matrix Calculator",
      "description": "Free online matrix calculator for performing matrix addition, subtraction, multiplication, inverse, and more. Ideal for students, engineers, and math enthusiasts.",
      "url": "https://www.calculatorquote.com/math/matrix-calculator.html",
      "keywords": [
        "matrix calculator",
        "matrix math calculator",
        "matrix multiplication calculator",
        "inverse matrix calculator",
        "online matrix calculator",
        "matrix calculator addition",
        "matrix calculator power",
        "transpose matrix calculator",
        "matrix calculator determinant 3x3",
        "determinant of the matrix calculator"
      ],
      "publisher": {
        "@type": "Organization",
        "name": "CalculatorQuote",
        "url": "https://www.calculatorquote.com"
      }
    }
    </script>
</body>
</html> 
